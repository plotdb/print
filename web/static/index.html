<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="/assets/lib/bootstrap/main/dist/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@loadingio/bootstrap.ext/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldloader/main/index.min.css"></head><body><div class="w-1024 rwd mx-auto my-4"><div class="btn btn-primary" ld="print">print</div></div><script type="text/javascript" src="/assets/lib/proxise/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/debounce.js/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/ldquery/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldfile/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldloader/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldview/main/index.min.js" defer></script><script type="module">var ldld,view;ldld=new ldloader({className:"ldld full"});view=new ldview({root:document.body,action:{click:{print:function(){var l;console.log("prepareing pdf ... ");ldld.on();l={html:"<h1>hello world</h1><p> ok </p>"};return ld$.fetch("/api/print",{method:"POST"},{json:l})["finally"](function(){return ldld.off()}).then(function(l){return l.blob()}).then(function(l){console.log("returned blob:",l);return ldfile.download({blob:l,name:"result.pdf"})})}}}});</script></body></html>